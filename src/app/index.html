<div>
    <ul class="flex space-x-2 rtl:space-x-reverse">
        <li>
            <a href="javascript:;" class="text-primary hover:underline">لوحة التحكم</a>
        </li>
        <li class="before:content-['/'] ltr:before:mr-2 rtl:before:ml-2">
            <span>الفهرس</span>
        </li>
    </ul>
    <div class="grid grid-cols-12 gap-4 mt-5">
        <div class="col-span-12 md:col-span-5 lg:col-span-4 xl:col-span-3 panel">
            <div class="flex mb-5">
                <h5 class="text-base font-bold">شجرة المستندات</h5>
            </div>
            <ul class="font-semibold">
                <li class="py-[10px]">
                    <button type="button" (click)="toggleTreeview1('all')">
                        <icon-caret-down
                            [class]="'w-5 h-5 text-primary inline relative -top-1 ltr:mr-2 rtl:ml-2 ' + [treeview1.includes('all') ? 'rotate-180': '' ]"
                        />
                        <icon-folder class="relative -top-1 inline text-primary ltr:mr-2 rtl:ml-2" />
                        كل التصنيفات
                    </button>
                    <div [@slideDownUp]="!treeview1.includes('all')" class="accordion-content">
                        <ul class="ltr:pl-14 rtl:pr-14">
                            <li class="py-[8px]">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1436
                            </li>
                            <li class="py-[8px]">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1437
                            </li>
                            <li class="py-[8px]">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1441
                            </li>
                            <li class="py-[8px]">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1443
                            </li>
                            <li class="py-[8px]">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1445
                            </li>
                            <li class="py-[8px]">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1446
                            </li>
                            <li class="py-[8px]">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1470
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="py-[10px]">
                    <button type="button" (click)="toggleTreeview1('images')" class="active">
                        <icon-caret-down
                            [class]="'w-5 h-5 text-primary inline relative -top-1 ltr:mr-2 rtl:ml-2 ' + [treeview1.includes('images') ? 'rotate-180': '' ]"
                        />
                        <icon-folder class="relative -top-1 inline text-primary ltr:mr-2 rtl:ml-2" />
                        تعاميم هيئة القضاء العليا
                    </button>
                    <div [@slideDownUp]="!treeview1.includes('images')" class="accordion-content">
                        <ul class="ltr:pl-14 rtl:pr-14">
                            <li class="pt-[8px]">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1439
                            </li>
                            <li class="pt-[8px]">
                                <button type="button" (click)="toggleTreeview1('pages')">
                                    <icon-caret-down
                                        [class]="'w-5 h-5 text-primary inline relative -top-1 ltr:mr-2 rtl:ml-2 ' + [treeview1.includes('pages') ? 'rotate-180': '' ]"
                                    />
                                    <icon-folder class="relative -top-1 inline text-primary ltr:mr-2 rtl:ml-2" />
                                    1440
                                </button>
                                <div [@slideDownUp]="!treeview1.includes('pages')" class="accordion-content">
                                    <ul class="ltr:pl-14 rtl:pr-14">
                                        <li class="pt-[8px]">
                                            <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                            1969
                                        </li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="py-[10px]">
                    <button type="button" (click)="toggleTreeview1('html')">
                        <icon-caret-down
                            [class]="'w-5 h-5 text-primary inline relative -top-1 ltr:mr-2 rtl:ml-2 ' + [treeview1.includes('html') ? 'rotate-180': '' ]"
                        />
                        <icon-folder class="relative -top-1 inline text-primary ltr:mr-2 rtl:ml-2" />
                        تعاميم وزارة العدل
                    </button>
                    <div [@slideDownUp]="!treeview1.includes('html')" class="accordion-content">
                        <ul class="ltr:pl-14 rtl:pr-14">
                            <li class="py-[5px] ltr:pl-8 rtl:pr-8">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1201
                            </li>
                            <li class="py-[5px] ltr:pl-8 rtl:pr-8">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1320
                            </li>
                            <li class="py-[5px] ltr:pl-8 rtl:pr-8">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1423
                            </li>
                            <li class="py-[5px] ltr:pl-8 rtl:pr-8">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1437
                            </li>
                            <li class="py-[5px] ltr:pl-8 rtl:pr-8">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1439
                            </li>
                            <li class="py-[5px] ltr:pl-8 rtl:pr-8">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1440
                            </li>
                            <li class="py-[5px] ltr:pl-8 rtl:pr-8">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1441
                            </li>
                            <li class="py-[5px] ltr:pl-8 rtl:pr-8">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1442
                            </li>
                            <li class="py-[5px] ltr:pl-8 rtl:pr-8">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1443
                            </li>
                            <li class="py-[5px] ltr:pl-8 rtl:pr-8">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1445
                            </li>
                            <li class="py-[5px] ltr:pl-8 rtl:pr-8">
                                <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                                1446
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="py-[10px] ltr:pl-7 rtl:pr-7">
                    <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                    مجلد جديد
                </li>
                <li class="py-[10px] ltr:pl-7 rtl:pr-7">
                    <icon-txt-file class="inline h-4.5 w-4.5 text-primary ltr:mr-2 rtl:ml-2" />
                    مجلد جديد
                </li>
            </ul>
        </div>
        <div class="col-span-12 md:col-span-7 lg:col-span-8 xl:col-span-9 panel">
            <div class="mb-4.5 flex flex-col justify-between gap-4 lg:gap-5 lg:flex-row lg:items-center">
                <div class="flex gap-2">
                    <input [(ngModel)]="search" type="text" class="form-input" placeholder="بحث عن موضوع ..." />
                    <button
                        class="btn btn-sm btn-outline-dark"
                        ngxTippy="بحث متقدم"
                        [tippyProps]="{placement: 'top'}"
                        type="button"
                        (click)="openFilter($event, filterModal)"
                    >
                        <icon-filter></icon-filter>
                    </button>
                    <button
                        class="btn btn-sm btn-outline-danger"
                        ngxTippy="إلغاء الفتلر"
                        [tippyProps]="{placement: 'top'}"
                        type="button"
                        (click)="resetFilter($event)"
                    >
                        <icon-restore></icon-restore>
                    </button>
                </div>
                <div class="flex flex-wrap items-center">
                    <a type="button" class="btn btn-outline-dark btn-sm m-1" routerLink="../add-archive">
                        <icon-plus class="h-5 w-5 ltr:mr-2 rtl:ml-2" />
                        مستند جديد
                    </a>
                    <button type="button" class="btn btn-primary btn-sm m-1" (click)="exportExcel()">
                        <icon-excel class="h-5 w-5 ltr:mr-2 rtl:ml-2" />
                        EXCEL
                    </button>
                    <button type="button" class="btn btn-outline-primary btn-sm m-1" (click)="exportCSV()">
                        <icon-csv class="h-5 w-5 ltr:mr-2 rtl:ml-2" />
                        CSV
                    </button>
                </div>
            </div>

            <div class="datatable">
                <ng-datatable
                    cellClass="text-xs"
                    headerClass="text-xs"
                    [rows]="rows"
                    [columns]="cols"
                    [sortable]="true"
                    skin="table-hover"
                    firstArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M13 19L7 12L13 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M16.9998 19L10.9998 12L16.9998 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
                    lastArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M11 19L17 12L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M6.99976 19L12.9998 12L6.99976 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg> '
                    previousArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M15 5L9 12L15 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
                    nextArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M9 5L15 12L9 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
                    paginationInfo="عرض {1} من {2} سجل"
                >
                    <ng-template slot="number" let-value="data">
                        <span class="inline-block leading-relaxed badge bg-warning rounded-full">{{ value.number }}</span>
                    </ng-template>
                    <ng-template slot="topic" let-value="data">
                        <span class="inline-block w-[240px] leading-relaxed">{{ value.topic }}</span>
                    </ng-template>
                    <ng-template slot="date" let-value="data">
                        <div class="wrap whitespace-nowrap">
                            <span class="inline-block leading-relaxed"> الميلادي : {{ value.date }}</span>
                            <br />
                            <span class="inline-block leading-relaxed"> الهجري : {{ value.hijriDate }}</span>
                        </div>
                    </ng-template>
                    <ng-template slot="createdAt" let-value="data">
                        <div class="wrap whitespace-nowrap">
                            <span class="leading-relaxed inline-flex gap-1 badge bg-outline-danger text-danger border border-danger rounded-full">
                                <icon-user></icon-user>
                                {{ value.user }}
                            </span>
                            <span class="flex gap-1 leading-relaxed mt-2">
                                <icon-calendar></icon-calendar>
                                الإنشاء : {{ value.date }}</span
                            >
                            <span class="flex gap-1 leading-relaxed mt-2">
                                <icon-calendar></icon-calendar>
                                آخر تحديث : {{ value.hijriDate }}</span
                            >
                        </div>
                    </ng-template>
                    <ng-template slot="action">
                        <div class="flex items-center">
                            <div>
                                <button type="button" class="ltr:mr-3 rtl:ml-3" ngxTippy="استعراض">
                                    <icon-eye />
                                </button>
                            </div>
                            <div>
                                <button type="button" class="ltr:mr-3 rtl:ml-3" ngxTippy="تعديل">
                                    <icon-pencil />
                                </button>
                            </div>
                            <div>
                                <button class="text-danger" type="button" ngxTippy="حذف">
                                    <icon-trash-lines />
                                </button>
                            </div>
                        </div>
                    </ng-template>
                </ng-datatable>
            </div>
        </div>
    </div>
</div>

<ngx-custom-modal #filterModal customClass="modal-center modal animate animate-slide-in-down extra-large-modal">
    <ng-template #modalHeader>
        <div class="flex items-center gap-2">
            <icon-search></icon-search>
            بحث متقدم
        </div>
    </ng-template>
    <ng-template #modalBody>
        <div class="w-full bg-white rounded border border-[#e0e6ed] dark:border-[#1b2e4b] dark:bg-[#191e3a] dark:shadow-none p-3 mb-4">
            <div class="grid grid-cols-12 gap-3 mb-3">
                <div class="col-span-12 md:col-span-6">
                    <label class="font-normal text-sm">حسب نوع الوثيقة</label>
                    <ng-select
                        [items]="[]"
                        [clearable]="false"
                        placeholder="اختر نوع الوثيقة"
                        [multiple]="true"
                        [searchable]="true"
                        class="font-normal text-sm"
                    >
                    </ng-select>
                </div>
                <div class="col-span-12 md:col-span-6">
                    <label class="font-normal text-sm">رقم الوثيقة</label>
                    <div class="flex">
                        <div
                            class="bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-[#e0e6ed] dark:border-[#17263c] dark:bg-[#1b2e4b]"
                        >
                            <icon-search></icon-search>
                        </div>
                        <input type="text" placeholder="الرقم يحتوي علي ..." class="form-input font-normal text-sm ltr:rounded-l-none rtl:rounded-r-none" />
                    </div>
                </div>
            </div>
        </div>
        <div class="w-full bg-white rounded border border-[#e0e6ed] dark:border-[#1b2e4b] dark:bg-[#191e3a] dark:shadow-none p-3 mb-4">
            <div class="grid grid-cols-12 gap-3 mb-3">
                <div class="col-span-12 md:col-span-4">
                    <label class="font-normal text-sm">تصفية تاريخ الوثيقة</label>
                    <ng-select [items]="[]" [clearable]="false" placeholder="اختر نوع الفلتر" [multiple]="true" [searchable]="true" class="font-normal text-sm">
                    </ng-select>
                </div>
                <div class="col-span-12 md:col-span-4">
                    <label class="font-normal text-sm">من تاريخ</label>
                    <div class="flex">
                        <div
                            class="bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-[#e0e6ed] dark:border-[#17263c] dark:bg-[#1b2e4b]"
                        >
                            <icon-calendar></icon-calendar>
                        </div>
                        <input
                            type="text"
                            value="2024-11-07"
                            mwlFlatpickr
                            [options]="basic"
                            class="form-input font-normal text-sm ltr:rounded-l-none rtl:rounded-r-none"
                        />
                    </div>
                </div>
                <div class="col-span-12 md:col-span-4">
                    <label class="font-normal text-sm">إلى تاريخ</label>
                    <div class="flex">
                        <div
                            class="bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-[#e0e6ed] dark:border-[#17263c] dark:bg-[#1b2e4b]"
                        >
                            <icon-calendar></icon-calendar>
                        </div>
                        <input
                            type="text"
                            value="2024-11-07"
                            mwlFlatpickr
                            [options]="basic"
                            class="form-input font-normal text-sm ltr:rounded-l-none rtl:rounded-r-none"
                        />
                    </div>
                </div>
            </div>
        </div>
        <div class="w-full bg-white rounded border border-[#e0e6ed] dark:border-[#1b2e4b] dark:bg-[#191e3a] dark:shadow-none p-3 mb-4">
            <div class="grid grid-cols-12 gap-3">
                <div class="col-span-12 md:col-span-6">
                    <label class="font-normal text-sm">حسب المستخدم</label>
                    <ng-select [items]="[]" [clearable]="false" placeholder="اختر المستخدم" [multiple]="true" [searchable]="true" class="font-normal text-sm">
                    </ng-select>
                </div>
                <div class="col-span-12 md:col-span-6">
                    <label class="font-normal text-sm">التاريخ الهجري</label>
                    <div class="flex">
                        <div
                            class="bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-[#e0e6ed] dark:border-[#17263c] dark:bg-[#1b2e4b]"
                        >
                            <icon-search></icon-search>
                        </div>
                        <input type="text" placeholder="التاريخ يحتوي علي ..." class="form-input font-normal text-sm ltr:rounded-l-none rtl:rounded-r-none" />
                    </div>
                </div>
            </div>
        </div>
        <div class="w-full bg-white rounded border border-[#e0e6ed] dark:border-[#1b2e4b] dark:bg-[#191e3a] dark:shadow-none p-3">
            <div class="grid grid-cols-12 gap-3 mb-3">
                <div class="col-span-12 md:col-span-4">
                    <label class="font-normal text-sm">تصفية تاريخ الإنشاء</label>
                    <ng-select [items]="[]" [clearable]="false" placeholder="اختر نوع الفلتر" [multiple]="true" [searchable]="true" class="font-normal text-sm">
                    </ng-select>
                </div>
                <div class="col-span-12 md:col-span-4">
                    <label class="font-normal text-sm">من تاريخ</label>
                    <div class="flex">
                        <div
                            class="bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-[#e0e6ed] dark:border-[#17263c] dark:bg-[#1b2e4b]"
                        >
                            <icon-calendar></icon-calendar>
                        </div>
                        <input
                            type="text"
                            value="2024-11-07"
                            mwlFlatpickr
                            [options]="basic"
                            class="form-input font-normal text-sm ltr:rounded-l-none rtl:rounded-r-none"
                        />
                    </div>
                </div>
                <div class="col-span-12 md:col-span-4">
                    <label class="font-normal text-sm">إلى تاريخ</label>
                    <div class="flex">
                        <div
                            class="bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-[#e0e6ed] dark:border-[#17263c] dark:bg-[#1b2e4b]"
                        >
                            <icon-calendar></icon-calendar>
                        </div>
                        <input
                            type="text"
                            value="2024-11-07"
                            mwlFlatpickr
                            [options]="basic"
                            class="form-input font-normal text-sm ltr:rounded-l-none rtl:rounded-r-none"
                        />
                    </div>
                </div>
            </div>
        </div>
    </ng-template>
    <ng-template #modalFooter>
        <button type="button" (click)="filterModal.close()" class="btn btn-outline-danger">إلغاء</button>
        <button type="button" (click)="filterModal.close()" class="btn btn-primary ltr:ml-4 rtl:mr-4">
            <icon-search></icon-search>
            <span class="rtl:mr-2 ltr:ml-2">تطبيق</span>
        </button>
    </ng-template>
</ngx-custom-modal>
